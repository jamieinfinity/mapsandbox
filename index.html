
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Map Sandbox Project</title>
  <meta name="author" content="Jamie Williams">

  
  <meta name="description" content="Background I became interested in crime mapping about a year ago when I was relocating to St. Louis for a new job. At the time, I had developed
the &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jamieinfinity.github.io/mapsandbox">
  <link href="/mapsandbox/favicon.png" rel="icon">
  <link href="/mapsandbox/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Map Sandbox Project" type="application/atom+xml">
  <script src="/mapsandbox/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/mapsandbox/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
        inlineMath: [ ['$', '$'], ["\\(", "\\)"] ],
        displayMath: [ ['$$', '$$'], ["\\[", "\\]"] ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
      //,
      //displayAlign: "left",
      //displayIndent: "2em"
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>

<script src='//api.tiles.mapbox.com/mapbox.js/v1.5.0/mapbox.js'></script>
<link href='//api.tiles.mapbox.com/mapbox.js/v1.5.0/mapbox.css' rel='stylesheet'/>

<style>
    .mapinfo {
        padding: 6px 8px;
        font: 14px/16px Arial, Helvetica, sans-serif;
        background: white;
        background: rgba(255, 255, 255, 0.8);
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
        border-radius: 5px;
    }

    .mapinfo h4 {
        margin: 0 0 5px;
        color: #777;
    }

    .mapboxmap {
        border-width:1px;
        border-style:solid;
        border-color:#CCCCCC;
    }

</style>
  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/mapsandbox/">Map Sandbox Project</a></h1>
  
    <h2>A sandbox for designing and implementing density maps.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jamieinfinity.github.io/mapsandbox" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/mapsandbox/">Latest</a></li>
  <li><a href="/mapsandbox/blog/archives">Archives</a></li>
  <li><a href="https://github.com/jamieinfinity/mapsandbox" target="_blank">Code</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/mapsandbox/blog/2013/12/09/getting-started/">Getting Started</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-09T00:00:00-06:00" pubdate data-updated="true">Dec 9<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2 id="background">Background</h2>

<p>I became interested in crime mapping about a year ago when I was relocating to St. Louis for a new job. At the time, I had developed
the impression that crime in St. Louis is a serious problem, and that I should carefully choose which neighborhood to live
in. I ended up choosing to live in a downtown loft. After living here for nearly a year, I’ve become very fond of this
city. My interest in crime has shifted from a concern for my personal safety to a concern for how reports of crime statistics
have lead to a misperception about the livability and vitality of this wonderful city. St. Louis has a vibrant entrepreneur community,
filled with people who are enthusiastic about the potential of the region to attract tech talent and new business, and so
naturally this issue of skewing the city’s reputation is a shared concern (for an overview of the situation, see this recent
<a href="http://blog.rallystl.org/the-truth-about-crime-in-st-louis/" target="_blank">video</a>).</p>

<p>As far as I’m concerned, there isn’t really a good (free) resource on the web that succeeds in accurately conveying relative crime
statistics between municipalities. That is, what I would like to see is a tool that allows the user to choose a neighborhood in one city
and compare it to a neighborhood in another city, and do this comparison in a statistically meaningful, ‘apples-to-apples’, way. I feel
crime rates aggregated over an entire city or metro area are not of much value. It’s much more useful to be able to compare areas on
a human scale of several blocks or so. Being able to compare neighborhoods between cities side-by-side is useful, because it provides a
relational context to better interpret meaning of the numerical values.</p>

<p>This type of tool does not exist freely on the web or in a mobile app. And so as a software engineer and physicist, I feel I am uniquely
qualified to do the end-to-end ground work required to build such a thing. For me, it’s critical to be very transparent about how
the data is being manipulated: ideally this type of tool would allow the user to trace the full computational path if they so desired, to
find out what assumptions/choices lead to the final visualization.</p>

<p>There are several sites that provide crime maps, the most popular being <a href="https://www.crimereports.com/" target="_blank">CrimeReports</a> and
<a href="http://spotcrime.com/" target="_blank">SpotCrime</a>, but they typically display the crime incident data as scatter points on a map,
which doesn’t provide much insight. The key service these sites provide, which is by no means trivial, is that they aggregate the crime data from many different
city municipalities into a unified interface. Simply showing the raw incident data has the virtue of not introducing any subjective
biases into the data, which can sometimes happen when building a thematic map (e.g. a heat map, or choropleth map, etc) if one isn’t
careful.</p>

<p>On the other end of the spectrum, there are several feature-rich GIS systems available capable of advanced geographical data analysis, but these
have a fairly steep learning curve that makes them more suitable for experts than for the average web or mobile app user. The leader
in this space (by a long stretch) is the <a href="http://www.arcgis.com/features/" target="_blank">ArcGIS</a> software, but there are
also some open source tools out there as well, such as <a href="http://www.qgis.org/en/site/" target="_blank">QGIS</a>.</p>

<p>I believe it’s possible to find a balance between these two extremes that provides the user more insight than what can be gleaned by
simply showing the raw incident data, but at the same time provides a streamlined elegant interface that doesn’t require
expert-level skill to interpret the information being visualized. The best site I’ve found that comes closest to what I have in
mind is <a href="http://www.trulia.com/crime/" target="_blank">Trulia</a>,
however, as of 12/2013, they don’t yet have data for St. Louis.</p>

<p>In the next section I’ll sketch an outline of what I hope to build.</p>

<h2 id="project-goals">Project goals</h2>

<p>I’m doing this project ‘just for fun’, purely as an evening/weekend side-project. Aside from the reasons I outlined above,
I’m drawn to this project because there is a mix of problems to be solved that engage different parts of my brain: data wrangling/modeling/analytics,
infographics and UI/UX design, and software engineering.</p>

<p>My long term goal for this project is to build an iOS app for side-by-side comparison of the
crime density between two different neighborhoods (either within the same city, or between two different cities). In due course, I will write out a set of
user stories (probably using <a href="https://waffle.io/" target="_blank">waffle.io<a></a>, which is integrated with GitHub issues). However, realistically
I am still a month or two away from embarking on that.</a></p>

<p>In the short term, this project will be a series of exploratory spikes as I make my way through the fundamentals of
geographical analytics and figure out how to best achieve the desired features. I have already begun working my way through various articles and
books – in a later post I’ll summarize these resources.</p>

<p>Here is a rough sketch of features and related issues that I’ll be exploring:</p>

<ul>
  <li>obtaining and working with crime incident data: be able to translate between shape files and geojson files. Also understand hierarchy of crime categories.</li>
  <li>transform between map projections: do computations in planar distance-preserving projection, but then project into whatever projection is appropriate
for map visualization (typically spheroidal lat/long coordinates).</li>
  <li>binning of points on a discrete spatial grid: try to minimize subjectivity in the following (i.e. make determinations algorithmically if possible)
    <ul>
      <li>choice of grid geometry: square, hexagonal, Voronois, or irregular polygons like census blocks.</li>
      <li>choice of grid element size (e.g. 100 feet, 300 feet, 1000 feet, etc).</li>
      <li>be able to project between grids (i.e. the Census Bureau has various indicator data assigned to block polygons, like population, so one needs to be able to
translate these values onto other grids).</li>
    </ul>
  </li>
  <li>applying Gaussian smoothing to estimate incident density: what is the best choice of smoothing radius?</li>
  <li>time binning and smoothing: what are good time interval values for binning and for smoothing (moving average)?</li>
  <li>determine day/night for an incident, given time of day and lat/long.</li>
  <li>be able to apply spatial clustering algorithms, such as computing the nearest neighbor index and Getis Ord G*. As part of this, understand notion of random distribution as a
null hypothesis.</li>
  <li>also be able to cluster based on crime profile similarity metric</li>
  <li>choice of color scale for visualizing density: probably best choice will be to base on quantiles of density distribution for region(s) of interest</li>
</ul>

<h2 id="blog-goals">Blog goals</h2>

<p>This blog is primarily for my own personal record keeping: it’s a running account as I figure out how to build this tool. At times my notes may
have the feel of a tutorial, but anyone happening across this site should keep in mind that I’m learning this material as I go and do not pretend to be
an expert in crime mapping or geo analytics. On the other hand, sometimes it’s useful to see how someone else was able to make sense of a subject they are
learning for the first time.</p>

<p>This is also a companion blog accompanying a GitHub repository where I plan to make my code available. Initially I will be tapping into the scientific
computing platform <a href="http://www.wolfram.com/mathematica/" target="_blank">Mathematica</a> (recently rebranded as
<a href="http://www.wolfram.com/wolfram-language/" target="_blank">Wolfram Language</a>), which is my go-to tool for these kinds of projects (I worked at Wolfram
for nearly six years before pivoting my career into mobile app development). Eventually I’ll be transitioning over to coding everything in python, since there are
so many open-source geo-processing tools available. As a side effect, I think it will be useful to have two distinct implementations to help verify and validate as
I go along.</p>

</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/mapsandbox/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/mapsandbox/blog/2013/12/09/getting-started/">Getting Started</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Follow</h1>
  <p>blog: <a href="http://apophenalogic.com" target="_blank">apophenalogic.com</a></p>
  <p>twitter: <a href="http://twitter.com/jamieinfinity" target="_blank">jamieinfinity</a></p>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Jamie Williams -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
