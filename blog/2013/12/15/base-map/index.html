
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Base Map - Map Sandbox Project</title>
  <meta name="author" content="Jamie Williams">

  
  <meta name="description" content="A base map is the canvas on which we will draw our geoanalytic visualizations. This post gives a brief summary of
base map design using Mapbox. &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jamieinfinity.github.io/mapsandbox/blog/2013/12/15/base-map">
  <link href="/mapsandbox/favicon.png" rel="icon">
  <link href="/mapsandbox/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Map Sandbox Project" type="application/atom+xml">
  <script src="/mapsandbox/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/mapsandbox/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet"
      type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet"
      type="text/css">
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
        inlineMath: [ ['$', '$'], ["\\(", "\\)"] ],
        displayMath: [ ['$$', '$$'], ["\\[", "\\]"] ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
      //,
      //displayAlign: "left",
      //displayIndent: "2em"
    });

</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>

<script src='//api.tiles.mapbox.com/mapbox.js/v1.5.2/mapbox.js'></script>
<link href='//api.tiles.mapbox.com/mapbox.js/v1.5.2/mapbox.css' rel='stylesheet'/>

<script type="text/javascript">
    var BASE_URL = '/mapsandbox';
</script>

<style>
    .mapinfo {
        padding: 6px 8px;
        font: 14px/16px Arial, Helvetica, sans-serif;
        background: white;
        background: rgba(255, 255, 255, 0.8);
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
        border-radius: 5px;
    }

    .mapinfo h4 {
        margin: 0 0 5px;
        color: #777;
    }

    .mapboxmap {
        border-width: 1px;
        border-style: solid;
        border-color: #CCCCCC;
    }

    .mapcaption {
        color: #666666;
        font-size: smaller;
    }


</style>
  


  <link href="/mapsandbox/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/mapsandbox/">Map Sandbox Project</a></h1>
  
    <h2>A sandbox for designing and implementing comparative thematic maps.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jamieinfinity.github.io/mapsandbox" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
    <li><a href="/mapsandbox/blog/archives">Contents</a></li>
  <li><a href="/mapsandbox/blog/">Latest</a></li>
  <li><a href="https://github.com/jamieinfinity/mapsandbox" target="_blank">Code</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Base Map</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-15T00:00:00-06:00" pubdate data-updated="true">Dec 15<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p><em>A base map is the canvas on which we will draw our geoanalytic visualizations. This post gives a brief summary of
base map design using Mapbox.</em></p>

<h2 id="mapbox">Mapbox</h2>

<p>In order to build a thematic map to visualize crime statistics and other neighborhood attributes, we’ll need a
base map to provide the background context that shows basic geographical information like streets, buildings, parks, and
waterways. In this project, we’ll tap into the powerful mapping tool <a href="https://www.mapbox.com/">Mapbox</a>. It provides
tools for styling and deploying maps that are based on <a href="http://www.openstreetmap.org/">OpenStreetMap</a> data,
with <a href="https://www.mapbox.com/developers/">API’s</a> allowing maps to be easily embedded in web pages and mobile apps.</p>

<p>The service operates
under a freemium model, so you can sign up for free and get started immediately. <a href="https://www.mapbox.com/plans/">Subscription rates</a>
are primarily based on map views, with the free plan allowing for 3000 views/month. They provide an online map editor
for very basic features (e.g. choosing the colors of streets, land areas, waterways, etc) and a desktop app call
<a href="https://www.mapbox.com/tilemill/">Tilemill</a> for advanced map design. So far the online editor has been sufficient for
my needs, but it’s nice knowing the advanced customization capability is there if I need it.</p>

<h2 id="base-map-design">Base map design</h2>

<p>The base map is meant to provide a geographical context for the thematic data being visualized. The base map styling
should be done using neutral colors and the features should be somewhat subdued because we’ll be adding colored
features to this base layer that encode the statistics we’re interested in and we want those features to stand out.</p>

<div class="bogus-wrapper"><notextile><figure>
<div style="height:360px" id="mbmap" class="mapboxmap"></div>
<figcaption class="mapcaption">A base map I designed using the Mapbox online editor.</figcaption>
</figure></notextile></div>

<h2 id="embedding-a-map">Embedding a map</h2>

<p>Mapbox provides a JavaScript library <a href="https://www.mapbox.com/mapbox.js/">mapbox.js</a> that
is <a href="https://www.mapbox.com/blog/mapbox-js-with-leaflet/">integrated</a> with
the <a href="http://leafletjs.com/">leaflet.js</a> library for building interactive maps. I’m a JavaScript newbie at the moment,
so my coding is largely based on finding pre-existing examples to use as a starting point and then adding
my own tweaks and customizations.</p>

<p>It’s straightforward to embed a map into a web page. First you need to add a reference to the library and the mapbox
CSS in the <code>&lt;head&gt;</code> element:</p>

<div><table class="CodeRay"><tr>
  <td class="line-numbers"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
</pre></td>
  <td class="code"><pre><span class="tag">&lt;script</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">'</span><span class="content">//api.tiles.mapbox.com/mapbox.js/v1.5.2/mapbox.js</span><span class="delimiter">'</span></span><span class="tag">&gt;</span><span class="tag">&lt;/script&gt;</span>
<span class="tag">&lt;link</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">'</span><span class="content">//api.tiles.mapbox.com/mapbox.js/v1.5.2/mapbox.css</span><span class="delimiter">'</span></span> <span class="attribute-name">rel</span>=<span class="string"><span class="delimiter">'</span><span class="content">stylesheet</span><span class="delimiter">'</span></span><span class="tag">/&gt;</span>
</pre></td>
</tr></table>
</div>

<p>Somewhere in your html source, you also need to provide the actual JavaScript code that embeds the map into the
correct element. The key mapbox function is <code>L.mapbox.map(element_id, map_id, options)</code>, where <code>element_id</code> is the id of the
html element and <code>map_id</code> is the unique identifier of your base map, e.g.:</p>

<div><table class="CodeRay"><tr>
  <td class="line-numbers"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
<a href="#n3" name="n3">3</a>
<a href="#n4" name="n4">4</a>
<a href="#n5" name="n5">5</a>
<a href="#n6" name="n6">6</a>
</pre></td>
  <td class="code"><pre><span class="tag">&lt;script</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">'</span><span class="content">text/javascript</span><span class="delimiter">'</span></span><span class="tag">&gt;</span>
<span class="inline">    <span class="keyword">var</span> map = L.mapbox.map(<span class="string"><span class="delimiter">'</span><span class="content">mbmap</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">jamieinfinity.g7e1c0h2</span><span class="delimiter">'</span></span>, {
                <span class="key">scrollWheelZoom</span>: <span class="predefined-constant">false</span>
              });
    map.setView(<span class="keyword">new</span> L.LatLng(<span class="float">38.632</span>, -<span class="float">90.24</span>), <span class="integer">13</span>);</span>
<span class="tag">&lt;/script&gt;</span>
</pre></td>
</tr></table>
</div>

<p>Finally, wherever you want the map to appear in your content you’ll need to place the <code>&lt;div id='element_id'&gt;</code> tag. For the
map above, this is:</p>

<div><table class="CodeRay"><tr>
  <td class="line-numbers"><pre><a href="#n1" name="n1">1</a>
</pre></td>
  <td class="code"><pre><span class="tag">&lt;div</span> <span class="attribute-name">style</span>=<span class="string"><span class="delimiter">'</span><span class="key">height</span>:<span class="float">360px</span><span class="delimiter">'</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">'</span><span class="content">mbmap</span><span class="delimiter">'</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">'</span><span class="content">mapboxmap</span><span class="delimiter">'</span></span><span class="tag">&gt;</span><span class="tag">&lt;/div&gt;</span>
</pre></td>
</tr></table>
</div>

<script type="text/javascript">
        var map = L.mapbox.map('mbmap', 'jamieinfinity.g7e1c0h2', {
                    scrollWheelZoom: false
                  });
	    map.setView(new L.LatLng(38.632, -90.24), 13);
</script>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Jamie Williams</span></span>

      








  


<time datetime="2013-12-15T00:00:00-06:00" pubdate data-updated="true">Dec 15<span>th</span>, 2013</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="/mapsandbox//twitter.com/share" class="twitter-share-button" data-url="http://jamieinfinity.github.io/mapsandbox/blog/2013/12/15/base-map/" data-via="jamieinfinity" data-counturl="http://jamieinfinity.github.io/mapsandbox/blog/2013/12/15/base-map/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/mapsandbox/blog/2013/12/11/resources/" title="Previous Post: Resources">&laquo; Resources</a>
      
      
        <a class="basic-alignment right" href="/mapsandbox/blog/2013/12/21/mapping-points-and-polygons/" title="Next Post: Mapping points and polygons">Mapping points and polygons &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
    
      <li class="post">
        <a href="/mapsandbox/blog/2013/12/21/mapping-points-and-polygons/">Mapping Points and Polygons</a>
      </li>
    
      <li class="post">
        <a href="/mapsandbox/blog/2013/12/15/base-map/">Base Map</a>
      </li>
    
      <li class="post">
        <a href="/mapsandbox/blog/2013/12/11/resources/">Resources</a>
      </li>
    
      <li class="post">
        <a href="/mapsandbox/blog/2013/12/09/motivation-and-goals/">Motivation and Goals</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Follow</h1>
  <p>blog: <a href="http://apophenalogic.com" target="_blank">apophenalogic.com</a></p>
  <p>twitter: <a href="http://twitter.com/jamieinfinity" target="_blank">jamieinfinity</a></p>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Jamie Williams -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
